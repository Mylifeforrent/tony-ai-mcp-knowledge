25-06-15.10:03:29.041 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 88117 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:03:29.042 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:03:31.197 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:03:31.201 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:03:31.201 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:03:31.620 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:03:31.621 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:03:31.621 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:03:32.092 [main            ] INFO  OllamaTest             - Started OllamaTest in 3.69 seconds (process running for 4.962)
25-06-15.10:03:45.244 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 88977 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:03:45.246 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:03:47.344 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:03:47.348 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:03:47.348 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:03:47.720 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:03:47.721 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:03:47.721 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:03:48.185 [main            ] INFO  OllamaTest             - Started OllamaTest in 3.534 seconds (process running for 4.751)
25-06-15.10:03:49.300 [main            ] WARN  OllamaApi              - [503] Service Unavailable - <html>
<head><title>503 Service Temporarily Unavailable</title></head>
<body>
<center><h1>503 Service Temporarily Unavailable</h1></center>
<hr><center>nginx</center>
</body>
</html>

25-06-15.10:24:42.511 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 69202 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:24:42.515 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:24:44.704 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:24:44.708 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:24:44.708 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:24:45.133 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:24:45.134 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:24:45.134 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:24:45.584 [main            ] INFO  OllamaTest             - Started OllamaTest in 3.7 seconds (process running for 5.125)
25-06-15.10:24:46.838 [main            ] WARN  OllamaApi              - [503] Service Unavailable - <html>
<head><title>503 Service Temporarily Unavailable</title></head>
<body>
<center><h1>503 Service Temporarily Unavailable</h1></center>
<hr><center>nginx</center>
</body>
</html>

25-06-15.10:29:23.222 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 87964 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:29:23.224 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:29:25.562 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:29:25.567 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:29:25.567 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:29:25.983 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:29:25.984 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:29:25.984 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:29:26.452 [main            ] INFO  OllamaTest             - Started OllamaTest in 3.804 seconds (process running for 4.987)
25-06-15.10:29:27.586 [main            ] INFO  OllamaTest             - 默认模型: mistral
25-06-15.10:31:12.674 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 94709 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:31:12.677 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:31:15.035 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:31:15.038 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:31:15.038 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:31:15.427 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:31:15.428 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:31:15.428 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:31:15.965 [main            ] INFO  OllamaTest             - Started OllamaTest in 3.882 seconds (process running for 5.129)
25-06-15.10:31:34.198 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 95846 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:31:34.200 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:31:36.776 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:31:36.780 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:31:36.781 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:31:37.232 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:31:37.233 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:31:37.233 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:31:37.703 [main            ] INFO  OllamaTest             - Started OllamaTest in 4.548 seconds (process running for 6.002)
25-06-15.10:31:41.533 [main            ] INFO  OllamaTest             - 测试结果(call):{"metadata":{"empty":false,"id":"","model":"deepseek-r1:1.5b","rateLimit":{"requestsLimit":0,"requestsRemaining":0,"requestsReset":{"nano":0,"negative":false,"seconds":0,"units":["SECONDS","NANOS"],"zero":true},"tokensLimit":0,"tokensRemaining":0,"tokensReset":{"$ref":"$.metadata.rateLimit.requestsReset"}},"usage":{"promptTokens":6,"completionTokens":17,"totalTokens":23,"generationTokens":17}},"result":{"metadata":{"contentFilters":[],"empty":true,"finishReason":"stop"},"output":{"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"<think>\n\n</think>\n\n1 + 1 等于 **2**。"{"$ref":"$.metadata.rateLimit.requestsReset.usage.result.metadata.contentFilters.output.media"}}},"results":[{"$ref":"$.metadata.rateLimit.requestsReset.usage.result"}]}
25-06-15.10:31:55.823 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 96977 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:31:55.825 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:31:58.303 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:31:58.308 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:31:58.308 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:31:58.980 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:31:58.982 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:31:58.983 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:31:59.749 [main            ] INFO  OllamaTest             - Started OllamaTest in 4.55 seconds (process running for 5.754)
25-06-15.10:32:19.369 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 98159 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:32:19.371 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:32:21.925 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:32:21.929 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:32:21.929 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:32:22.366 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:32:22.367 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:32:22.367 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:32:22.847 [main            ] INFO  OllamaTest             - Started OllamaTest in 4.33 seconds (process running for 5.741)
25-06-15.10:32:26.495 [main            ] INFO  OllamaTest             - 测试结果(images):{"metadata":{"empty":false,"id":"","model":"deepseek-r1:1.5b","rateLimit":{"requestsLimit":0,"requestsRemaining":0,"requestsReset":{"nano":0,"negative":false,"seconds":0,"units":["SECONDS","NANOS"],"zero":true},"tokensLimit":0,"tokensRemaining":0,"tokensReset":{"$ref":"$.metadata.rateLimit.requestsReset"}},"usage":{"promptTokens":23,"completionTokens":426,"totalTokens":449,"generationTokens":426}},"result":{"metadata":{"contentFilters":[],"empty":true,"finishReason":"stop"},"output":{"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"<think>\n嗯，用户给了我一个查询，让我描述一张图片的主要内容，并解释图中物品的可能用途。首先，我需要理解用户的具体需求是什么。看起来用户是想了解一张图片的信息和相关知识，可能是为了学习、工作或者娱乐。\n\n接下来，我要思考用户可能的身份。也许这是一个学生，正在准备某个作业；也有可能是一个普通消费者，在购买商品时查看图片信息；或者是对视觉艺术感兴趣的人。不管怎样，我需要确保我的回答既准确又详细，能够帮助他们理解。\n\n然后，我会分析图片的结构和内容。虽然没有图，但根据用户提供的描述，可能这张图片包含一些物品或装饰图案。这些物品可能是常见的，比如钥匙、书本、手机、杯子等。这些都是学生常在作业中看到的常见物品，所以推测它们是常见的教学物品。\n\n接下来，我需要确定每个物品的具体用途。钥匙和书本都是学习工具，通常用于学校或者家庭环境；而手机和杯子可能与日常生活中使用有关，比如作为电子设备或装饰品。这样用户不仅能了解图片的内容，还能理解这些物品在实际中的应用。\n\n最后，我会组织语言，确保回答清晰明了，并且涵盖所有可能的用途。同时，我还需要用简洁的语言，避免过于复杂或者 unnecessary的信息，让用户能够轻松理解和记住这些知识。\n</think>\n\n这张图片主要展示了一组常见的装饰图案，包含一些常见物品的使用场景或象征意义。以下是图中物品的可能用途：\n\n1. **钥匙**：通常用于打开家中的门或窗户。钥匙常被用来开启锁具或进行安全操作。\n2. **书本**：书本是学习的重要工具，通常用于阅读、写字或复习知识。\n3. **手机**：作为常见的电子设备之一，手机可以接收信息、管理账号或进行日常活动。\n4. **杯子/碗**：常见用于盛放水、食物或容器，具有装饰功能，也可以作为文具使用。\n\n这些物品在日常生活中扮演着不同的角色，象征着不同的生活主题。"{"$ref":"$.metadata.rateLimit.requestsReset.usage.result.metadata.contentFilters.output.media"}}},"results":[{"$ref":"$.metadata.rateLimit.requestsReset.usage.result"}]}
25-06-15.10:33:09.160 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 1795 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:33:09.164 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:33:11.377 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:33:11.381 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:33:11.382 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:33:11.792 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:33:11.792 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:33:11.792 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:33:12.247 [main            ] INFO  OllamaTest             - Started OllamaTest in 3.679 seconds (process running for 4.885)
25-06-15.10:33:13.779 [ForkJoinPool.commonPool-worker-1] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"<think>"{"$ref":"$.media"}}
25-06-15.10:33:13.783 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"\n\n"{"$ref":"$.media"}}
25-06-15.10:33:13.784 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"</think>"{"$ref":"$.media"}}
25-06-15.10:33:13.785 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"\n\n"{"$ref":"$.media"}}
25-06-15.10:33:13.786 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"1"{"$ref":"$.media"}}
25-06-15.10:33:13.787 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":" +"{"$ref":"$.media"}}
25-06-15.10:33:13.787 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":" "{"$ref":"$.media"}}
25-06-15.10:33:13.788 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"1"{"$ref":"$.media"}}
25-06-15.10:33:13.789 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":" 等"{"$ref":"$.media"}}
25-06-15.10:33:13.789 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"于"{"$ref":"$.media"}}
25-06-15.10:33:13.790 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":" **"{"$ref":"$.media"}}
25-06-15.10:33:13.790 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"2"{"$ref":"$.media"}}
25-06-15.10:33:13.791 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"**"{"$ref":"$.media"}}
25-06-15.10:33:13.792 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"。"{"$ref":"$.media"}}
25-06-15.10:33:13.794 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":""{"$ref":"$.media"}}
25-06-15.10:33:13.797 [HttpClient-2-Worker-0] INFO  OllamaTest             - 测试结果(stream): done!
25-06-15.10:33:20.553 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 2397 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:33:20.555 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:33:22.789 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:33:22.792 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:33:22.793 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:33:23.236 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:33:23.237 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:33:23.237 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:33:23.672 [main            ] INFO  OllamaTest             - Started OllamaTest in 3.781 seconds (process running for 4.9)
25-06-15.10:33:27.338 [main            ] WARN  OllamaApi              - [404] Not Found - {"error":"model \"nomic-embed-text\" not found, try pulling it first"}
25-06-15.10:33:27.339 [main            ] WARN  PgVectorStore          - Failed to obtain the embedding dimensions from the embedding model and fall backs to default:1536
java.lang.RuntimeException: [404] Not Found - {"error":"model \"nomic-embed-text\" not found, try pulling it first"}
	at org.springframework.ai.ollama.api.OllamaApi$OllamaResponseErrorHandler.handleError(OllamaApi.java:278)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:745)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:745)
	at org.springframework.ai.ollama.api.OllamaApi.embed(OllamaApi.java:192)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.lambda$call$2(OllamaEmbeddingModel.java:120)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.call(OllamaEmbeddingModel.java:119)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:67)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:49)
	at org.springframework.ai.embedding.AbstractEmbeddingModel.dimensions(AbstractEmbeddingModel.java:66)
	at org.springframework.ai.embedding.AbstractEmbeddingModel.dimensions(AbstractEmbeddingModel.java:88)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.embeddingDimensions(PgVectorStore.java:466)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.createObservationContextBuilder(PgVectorStore.java:483)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.add(AbstractObservationVectorStore.java:80)
	at org.springframework.ai.vectorstore.VectorStore.accept(VectorStore.java:56)
	at com.study.tony.ai.knowledge.test.OllamaTest.upload(OllamaTest.java:124)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:76)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-06-15.10:33:27.485 [main            ] WARN  OllamaApi              - [404] Not Found - {"error":"model \"nomic-embed-text\" not found, try pulling it first"}
25-06-15.10:33:38.555 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 3357 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:33:38.558 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:33:40.813 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:33:40.818 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:33:40.818 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:33:41.301 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:33:41.301 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:33:41.301 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:33:41.776 [main            ] INFO  OllamaTest             - Started OllamaTest in 3.867 seconds (process running for 5.14)
25-06-15.10:33:43.203 [main            ] WARN  OllamaApi              - [404] Not Found - {"error":"model \"nomic-embed-text\" not found, try pulling it first"}
25-06-15.10:33:43.204 [main            ] WARN  PgVectorStore          - Failed to obtain the embedding dimensions from the embedding model and fall backs to default:1536
java.lang.RuntimeException: [404] Not Found - {"error":"model \"nomic-embed-text\" not found, try pulling it first"}
	at org.springframework.ai.ollama.api.OllamaApi$OllamaResponseErrorHandler.handleError(OllamaApi.java:278)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:745)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:745)
	at org.springframework.ai.ollama.api.OllamaApi.embed(OllamaApi.java:192)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.lambda$call$2(OllamaEmbeddingModel.java:120)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.call(OllamaEmbeddingModel.java:119)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:67)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:49)
	at org.springframework.ai.embedding.AbstractEmbeddingModel.dimensions(AbstractEmbeddingModel.java:66)
	at org.springframework.ai.embedding.AbstractEmbeddingModel.dimensions(AbstractEmbeddingModel.java:88)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.embeddingDimensions(PgVectorStore.java:466)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.createObservationContextBuilder(PgVectorStore.java:483)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.similaritySearch(AbstractObservationVectorStore.java:119)
	at com.study.tony.ai.knowledge.test.OllamaTest.chat(OllamaTest.java:149)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:76)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-06-15.10:33:43.267 [main            ] WARN  OllamaApi              - [404] Not Found - {"error":"model \"nomic-embed-text\" not found, try pulling it first"}
25-06-15.10:33:52.860 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 4084 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:33:52.862 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:33:55.112 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:33:55.116 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:33:55.116 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:33:55.537 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:33:55.538 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:33:55.538 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:33:56.068 [main            ] INFO  OllamaTest             - Started OllamaTest in 3.84 seconds (process running for 4.956)
25-06-15.10:33:59.458 [main            ] WARN  OllamaApi              - [404] Not Found - {"error":"model \"nomic-embed-text\" not found, try pulling it first"}
25-06-15.10:33:59.459 [main            ] WARN  PgVectorStore          - Failed to obtain the embedding dimensions from the embedding model and fall backs to default:1536
java.lang.RuntimeException: [404] Not Found - {"error":"model \"nomic-embed-text\" not found, try pulling it first"}
	at org.springframework.ai.ollama.api.OllamaApi$OllamaResponseErrorHandler.handleError(OllamaApi.java:278)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:745)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:745)
	at org.springframework.ai.ollama.api.OllamaApi.embed(OllamaApi.java:192)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.lambda$call$2(OllamaEmbeddingModel.java:120)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.call(OllamaEmbeddingModel.java:119)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:67)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:49)
	at org.springframework.ai.embedding.AbstractEmbeddingModel.dimensions(AbstractEmbeddingModel.java:66)
	at org.springframework.ai.embedding.AbstractEmbeddingModel.dimensions(AbstractEmbeddingModel.java:88)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.embeddingDimensions(PgVectorStore.java:466)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.createObservationContextBuilder(PgVectorStore.java:483)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.add(AbstractObservationVectorStore.java:80)
	at org.springframework.ai.vectorstore.VectorStore.accept(VectorStore.java:56)
	at com.study.tony.ai.knowledge.test.OllamaTest.upload(OllamaTest.java:124)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:76)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-06-15.10:33:59.573 [main            ] WARN  OllamaApi              - [404] Not Found - {"error":"model \"nomic-embed-text\" not found, try pulling it first"}
25-06-15.10:34:45.434 [main            ] INFO  OpenAiTest             - Starting OpenAiTest using Java 17.0.15 with PID 7525 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:34:45.436 [main            ] INFO  OpenAiTest             - The following 1 profile is active: "dev"
25-06-15.10:34:47.729 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:34:47.733 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:34:47.733 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:34:48.215 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:34:48.216 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:34:48.216 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:34:48.836 [main            ] INFO  OpenAiTest             - Started OpenAiTest in 3.995 seconds (process running for 5.379)
25-06-15.10:34:50.520 [main            ] WARN  SpringAiRetryAutoConfiguration - Retry error. Retry count:1
org.springframework.ai.retry.NonTransientAiException: 401 - {"error":{"message":"无效的令牌 (request id: 2025061510345056961533525992437)","type":"one_api_error"}}
	at org.springframework.ai.autoconfigure.retry.SpringAiRetryAutoConfiguration$2.handleError(SpringAiRetryAutoConfiguration.java:100)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toEntityInternal$2(DefaultRestClient.java:770)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntityInternal(DefaultRestClient.java:769)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntity(DefaultRestClient.java:758)
	at org.springframework.ai.openai.api.OpenAiApi.chatCompletionEntity(OpenAiApi.java:257)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$1(OpenAiChatModel.java:274)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:230)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$3(OpenAiChatModel.java:274)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:271)
	at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:255)
	at com.study.tony.ai.knowledge.test.OpenAiTest.test_call(OpenAiTest.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:76)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-06-15.10:34:51.525 [main            ] INFO  OpenAiTest             - 上传完成
25-06-15.10:34:51.679 [main            ] WARN  SpringAiRetryAutoConfiguration - Retry error. Retry count:1
org.springframework.ai.retry.NonTransientAiException: 401 - {"error":{"message":"无效的令牌 (request id: 2025061510345176107817852886366)","type":"one_api_error"}}
	at org.springframework.ai.autoconfigure.retry.SpringAiRetryAutoConfiguration$2.handleError(SpringAiRetryAutoConfiguration.java:100)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toEntityInternal$2(DefaultRestClient.java:770)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntityInternal(DefaultRestClient.java:769)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntity(DefaultRestClient.java:758)
	at org.springframework.ai.openai.api.OpenAiApi.chatCompletionEntity(OpenAiApi.java:257)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$1(OpenAiChatModel.java:274)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:230)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$3(OpenAiChatModel.java:274)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:271)
	at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:255)
	at com.study.tony.ai.knowledge.test.OpenAiTest.test_call_images(OpenAiTest.java:79)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:76)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-06-15.10:34:52.047 [ForkJoinPool.commonPool-worker-1] ERROR MessageAggregator      - Aggregation Error
org.springframework.web.reactive.function.client.WebClientResponseException$Unauthorized: 401 Unauthorized from POST https://pro-share-aws-api.zcyai.com/v1/chat/completions
	at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:322)
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ 401 UNAUTHORIZED from POST https://pro-share-aws-api.zcyai.com/v1/chat/completions [DefaultWebClient]
Original Stack Trace:
		at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:322)
		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214)
		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162)
		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122)
		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299)
		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337)
		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097)
		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145)
		at reactor.core.publisher.FluxPublish$PublishSubscriber.checkTerminated(FluxPublish.java:634)
		at reactor.core.publisher.FluxPublish$PublishSubscriber.drain(FluxPublish.java:494)
		at reactor.core.publisher.FluxPublish$PublishSubscriber.onComplete(FluxPublish.java:355)
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126)
		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350)
		at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drainAsync(FluxFlattenIterable.java:371)
		at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drain(FluxFlattenIterable.java:724)
		at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.onComplete(FluxFlattenIterable.java:273)
		at reactor.adapter.JdkFlowAdapter$SubscriberToRS.onComplete(JdkFlowAdapter.java:160)
		at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.complete(ResponseSubscribers.java:933)
		at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.lambda$new$1(ResponseSubscribers.java:864)
		at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718)
		at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
		at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)
		at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.lambda$subscribe$3(ResponseSubscribers.java:961)
		at java.base/java.util.concurrent.CompletableFuture.uniAcceptNow(CompletableFuture.java:757)
		at java.base/java.util.concurrent.CompletableFuture.uniAcceptStage(CompletableFuture.java:735)
		at java.base/java.util.concurrent.CompletableFuture.thenAccept(CompletableFuture.java:2182)
		at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.subscribe(ResponseSubscribers.java:957)
		at reactor.adapter.JdkFlowAdapter$FlowPublisherAsFlux.subscribe(JdkFlowAdapter.java:68)
		at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
		at reactor.core.publisher.FluxPublish.connect(FluxPublish.java:106)
		at reactor.core.publisher.FluxAutoConnect.subscribe(FluxAutoConnect.java:62)
		at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
		at org.springframework.http.client.reactive.AbstractClientHttpResponse$SingleSubscriberPublisher.subscribe(AbstractClientHttpResponse.java:112)
		at reactor.core.publisher.FluxSource.subscribe(FluxSource.java:71)
		at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
		at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onNext(MonoFlatMapMany.java:196)
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
		at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:113)
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
		at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)
		at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
		at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:294)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:188)
		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)
		at reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:121)
		at reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:67)
		at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)
		at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911)
		at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
		at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614)
		at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844)
		at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483)
		at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)
		at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)
		at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)
		at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)
		at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)
25-06-15.10:36:19.744 [main            ] INFO  OpenAiTest             - Starting OpenAiTest using Java 17.0.15 with PID 13917 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:36:19.746 [main            ] INFO  OpenAiTest             - The following 1 profile is active: "dev"
25-06-15.10:36:21.892 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:36:21.896 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:36:21.896 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:36:22.317 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:36:22.318 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:36:22.319 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:36:22.779 [main            ] INFO  OpenAiTest             - Started OpenAiTest in 3.622 seconds (process running for 4.859)
25-06-15.10:36:25.423 [main            ] WARN  SpringAiRetryAutoConfiguration - Retry error. Retry count:1
org.springframework.ai.retry.NonTransientAiException: 401 - {"error":{"message":"无效的令牌 (request id: 2025061510362548370124823694479)","type":"one_api_error"}}
	at org.springframework.ai.autoconfigure.retry.SpringAiRetryAutoConfiguration$2.handleError(SpringAiRetryAutoConfiguration.java:100)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toEntityInternal$2(DefaultRestClient.java:770)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntityInternal(DefaultRestClient.java:769)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntity(DefaultRestClient.java:758)
	at org.springframework.ai.openai.api.OpenAiApi.chatCompletionEntity(OpenAiApi.java:257)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$1(OpenAiChatModel.java:274)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:230)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$3(OpenAiChatModel.java:274)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:271)
	at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:255)
	at com.study.tony.ai.knowledge.test.OpenAiTest.test_call(OpenAiTest.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:76)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-06-15.10:37:39.178 [main            ] INFO  OpenAiTest             - Starting OpenAiTest using Java 17.0.15 with PID 19530 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:37:39.181 [main            ] INFO  OpenAiTest             - The following 1 profile is active: "dev"
25-06-15.10:37:41.503 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:37:41.507 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:37:41.507 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:37:41.905 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:37:41.905 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:37:41.905 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:37:42.435 [main            ] INFO  OpenAiTest             - Started OpenAiTest in 3.936 seconds (process running for 5.231)
25-06-15.10:37:44.155 [main            ] WARN  SpringAiRetryAutoConfiguration - Retry error. Retry count:1
org.springframework.ai.retry.NonTransientAiException: 404 - {"error":{"message":"Invalid URL (POST /v1/chat/completions/v1/chat/completions)","type":"invalid_request_error","param":"","code":""}}
	at org.springframework.ai.autoconfigure.retry.SpringAiRetryAutoConfiguration$2.handleError(SpringAiRetryAutoConfiguration.java:100)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toEntityInternal$2(DefaultRestClient.java:770)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntityInternal(DefaultRestClient.java:769)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntity(DefaultRestClient.java:758)
	at org.springframework.ai.openai.api.OpenAiApi.chatCompletionEntity(OpenAiApi.java:257)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$1(OpenAiChatModel.java:274)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:230)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$3(OpenAiChatModel.java:274)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:271)
	at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:255)
	at com.study.tony.ai.knowledge.test.OpenAiTest.test_call(OpenAiTest.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:76)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-06-15.10:38:28.168 [main            ] INFO  OpenAiTest             - Starting OpenAiTest using Java 17.0.15 with PID 22977 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:38:28.174 [main            ] INFO  OpenAiTest             - The following 1 profile is active: "dev"
25-06-15.10:38:30.368 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:38:30.375 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:38:30.375 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:38:30.833 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:38:30.834 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:38:30.834 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:38:31.323 [main            ] INFO  OpenAiTest             - Started OpenAiTest in 3.766 seconds (process running for 5.009)
25-06-15.10:38:33.516 [main            ] WARN  SpringAiRetryAutoConfiguration - Retry error. Retry count:1
org.springframework.ai.retry.NonTransientAiException: 401 - {"error":{"message":"无效的令牌 (request id: 2025061510383341850239145011559)","type":"one_api_error"}}
	at org.springframework.ai.autoconfigure.retry.SpringAiRetryAutoConfiguration$2.handleError(SpringAiRetryAutoConfiguration.java:100)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toEntityInternal$2(DefaultRestClient.java:770)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntityInternal(DefaultRestClient.java:769)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntity(DefaultRestClient.java:758)
	at org.springframework.ai.openai.api.OpenAiApi.chatCompletionEntity(OpenAiApi.java:257)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$1(OpenAiChatModel.java:274)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:230)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$3(OpenAiChatModel.java:274)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:271)
	at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:255)
	at com.study.tony.ai.knowledge.test.OpenAiTest.test_call(OpenAiTest.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:76)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-06-15.10:38:56.610 [main            ] INFO  OpenAiTest             - Starting OpenAiTest using Java 17.0.15 with PID 24765 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:38:56.617 [main            ] INFO  OpenAiTest             - The following 1 profile is active: "dev"
25-06-15.10:38:58.900 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:38:58.904 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:38:58.904 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:38:59.307 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:38:59.308 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:38:59.308 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:38:59.765 [main            ] INFO  OpenAiTest             - Started OpenAiTest in 3.764 seconds (process running for 4.987)
25-06-15.10:39:01.561 [main            ] WARN  SpringAiRetryAutoConfiguration - Retry error. Retry count:1
org.springframework.ai.retry.NonTransientAiException: 403 - <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>ERROR: The request could not be satisfied</TITLE>
</HEAD><BODY>
<H1>403 ERROR</H1>
<H2>The request could not be satisfied.</H2>
<HR noshade size="1px">
The Amazon CloudFront distribution is configured to block access from your country.
We can't connect to the server for this app or website at this time. There might be too much traffic or a configuration error. Try again later, or contact the app or website owner.
<BR clear="all">
If you provide content to customers through CloudFront, you can find steps to troubleshoot and help prevent this error by reviewing the CloudFront documentation.
<BR clear="all">
<HR noshade size="1px">
<PRE>
Generated by cloudfront (CloudFront)
Request ID: -twq9LkOLYQyT6JAhAJFX-RCaLmc64VFk_J1OUK-nbR9twy-DG1x0w==
</PRE>
<ADDRESS>
</ADDRESS>
</BODY></HTML>
	at org.springframework.ai.autoconfigure.retry.SpringAiRetryAutoConfiguration$2.handleError(SpringAiRetryAutoConfiguration.java:100)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toEntityInternal$2(DefaultRestClient.java:770)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntityInternal(DefaultRestClient.java:769)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntity(DefaultRestClient.java:758)
	at org.springframework.ai.openai.api.OpenAiApi.chatCompletionEntity(OpenAiApi.java:257)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$1(OpenAiChatModel.java:274)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:230)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$3(OpenAiChatModel.java:274)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:271)
	at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:255)
	at com.study.tony.ai.knowledge.test.OpenAiTest.test_call(OpenAiTest.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:76)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-06-15.10:43:16.553 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 43890 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:43:16.557 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:43:18.890 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:43:18.894 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:43:18.894 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:43:19.296 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:43:19.297 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:43:19.297 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:43:19.719 [main            ] INFO  OllamaTest             - Started OllamaTest in 3.98 seconds (process running for 5.227)
25-06-15.10:43:24.481 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-06-15.10:43:24.713 [main            ] INFO  HikariPool             - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@45fac879
25-06-15.10:43:24.715 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-06-15.10:43:24.960 [main            ] INFO  OllamaTest             - 上传完成
25-06-15.10:43:24.993 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-06-15.10:43:25.064 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-06-15.10:43:35.016 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 44850 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:43:35.022 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:43:37.227 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:43:37.230 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:43:37.230 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:43:37.693 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:43:37.694 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:43:37.694 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:43:38.188 [main            ] INFO  OllamaTest             - Started OllamaTest in 3.746 seconds (process running for 4.871)
25-06-15.10:43:39.749 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-06-15.10:43:39.999 [main            ] INFO  HikariPool             - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@22db223f
25-06-15.10:43:40.000 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-06-15.10:43:44.561 [main            ] INFO  OllamaTest             - 测试结果:{"metadata":{"empty":false,"id":"","model":"deepseek-r1:1.5b","rateLimit":{"requestsLimit":0,"requestsRemaining":0,"requestsReset":{"nano":0,"negative":false,"seconds":0,"units":["SECONDS","NANOS"],"zero":true},"tokensLimit":0,"tokensRemaining":0,"tokensReset":{"$ref":"$.metadata.rateLimit.requestsReset"}},"usage":{"promptTokens":1200,"completionTokens":365,"totalTokens":1565,"generationTokens":365}},"result":{"metadata":{"contentFilters":[],"empty":true,"finishReason":"stop"},"output":{"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"<think>\n好的，我现在需要回答的问题是：“人工智能学科始于哪一年？”根据提供的文档内容，我必须使用已知的信息来解答这个问题，并且以中文回答。此外，我不能做出不确定的假设。\n\n首先，我从提供的 DOCUMENTS开始分析。这一部分详细介绍了人工智能（AI）学科的发展历程和相关领域。文档中提到了“人工智能人工智能”这个词，通常译为“artificial intelligence”，简称AI，是计算机科学的一个分支，研究理解智能的本质并开发以人类方式行动的机器。\n\n接下来，我注意到在 document中提到：“人工智能人工智能的研究 包括 机器机器人、语言识别、图像识别等。”这表明人工智能领域涵盖了多个子领域。文档进一步说明，人工智能人工智能作为一门学科始于20世纪50年代。\n\n具体来说，1956年在美国达特梅萨会议上的约翰·麦卡锡（John McCarthys）、马文·闵斯基（Marvin Minsky）和克劳尔·香农（Claude Shannon）等人的提出，标志着人工智能的正式概念形成。这一理论标志人工智能人工智能成为一门科学。\n\n所以，结合这些信息，可以推断出人工智能学科始于20世纪50年代，具体是1956年。\n\n另外，文档中提到AI在多个行业如医疗、金融、教育、制造和交通等都有广泛应用，并且随着计算能力的提升、大数据的发展以及深度学习技术的进步，AI进入了繁荣期。但这里的问题只是询问人工智能学科的起源时间，因此不用考虑其后续发展带来的挑战。\n\n综上所述，人工智能学科始于1956年。\n</think>\n\n人工智能学科始于1956年。\n\n**答案：人工智能学科始于1956年。**"{"$ref":"$.metadata.rateLimit.requestsReset.usage.result.metadata.contentFilters.output.media"}}},"results":[{"$ref":"$.metadata.rateLimit.requestsReset.usage.result"}]}
25-06-15.10:43:44.588 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-06-15.10:43:44.612 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-06-15.10:43:55.489 [main            ] INFO  OllamaTest             - Starting OllamaTest using Java 17.0.15 with PID 46060 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:43:55.490 [main            ] INFO  OllamaTest             - The following 1 profile is active: "dev"
25-06-15.10:43:57.732 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:43:57.736 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:43:57.736 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:43:58.126 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:43:58.126 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:43:58.126 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:43:58.659 [main            ] INFO  OllamaTest             - Started OllamaTest in 3.76 seconds (process running for 4.888)
25-06-15.10:44:00.301 [main            ] INFO  OllamaTest             - 测试结果(call):{"metadata":{"empty":false,"id":"","model":"deepseek-r1:1.5b","rateLimit":{"requestsLimit":0,"requestsRemaining":0,"requestsReset":{"nano":0,"negative":false,"seconds":0,"units":["SECONDS","NANOS"],"zero":true},"tokensLimit":0,"tokensRemaining":0,"tokensReset":{"$ref":"$.metadata.rateLimit.requestsReset"}},"usage":{"promptTokens":6,"completionTokens":34,"totalTokens":40,"generationTokens":34}},"result":{"metadata":{"contentFilters":[],"empty":true,"finishReason":"stop"},"output":{"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"<think>\n\n</think>\n\n**1 + 1 = 2**\n\nThis is a fundamental arithmetic operation. When you add one and one together, the result is two."{"$ref":"$.metadata.rateLimit.requestsReset.usage.result.metadata.contentFilters.output.media"}}},"results":[{"$ref":"$.metadata.rateLimit.requestsReset.usage.result"}]}
25-06-15.10:44:02.852 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-06-15.10:44:03.079 [main            ] INFO  HikariPool             - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3738c943
25-06-15.10:44:03.081 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-06-15.10:44:03.329 [main            ] INFO  OllamaTest             - 上传完成
25-06-15.10:44:07.248 [main            ] INFO  OllamaTest             - 测试结果(images):{"metadata":{"empty":false,"id":"","model":"deepseek-r1:1.5b","rateLimit":{"requestsLimit":0,"requestsRemaining":0,"requestsReset":{"nano":0,"negative":false,"seconds":0,"units":["SECONDS","NANOS"],"zero":true},"tokensLimit":0,"tokensRemaining":0,"tokensReset":{"$ref":"$.metadata.rateLimit.requestsReset"}},"usage":{"promptTokens":23,"completionTokens":574,"totalTokens":597,"generationTokens":574}},"result":{"metadata":{"contentFilters":[],"empty":true,"finishReason":"stop"},"output":{"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"<think>\n好，我现在需要帮用户描述一张图片的主要内容和物品的可能用途。我应该先看看用户给的例子，他们给了几个不同的物品及其用途，比如钥匙、杯子、书包等。\n\n首先，我要理解图片的内容。虽然用户没有提供具体的图像，但提供的例子中显示了多种物品，所以我可以假设图片中有多个不同的物品排列在一起，每个都有各自的特点和用途。\n\n接下来，我应该考虑如何组织语言，既详细又清晰。可能需要先描述整体的布置，然后逐一列出每种物品的使用场景或功能。\n\n考虑到用户可能是一个学生或者对生活有兴趣的人，他们可能会希望得到详细的解释，帮助自己理解图片中的物品及其用途。\n\n或许可以分成几个部分：整体结构、物品分类和各自的用途。这样条理清晰，内容全面。\n\n同时，要注意语言的口语化和自然流畅，避免过于学术化的表达，让读者容易理解和接受。\n\n在描述每种物品时，最好提到它们的特征和常见用途，比如钥匙是开锁的工具，杯子可以用来盛水或者装饰，书包则是重要的学习或生活用品。\n\n最后，总结一下这张图片的整体布局和各个物品的作用，这样用户能有一个全面的认识。\n</think>\n\n这张图片看起来是一个装饰性的场景，主要由多个不同的物品排列在一起。整体布置温馨而整洁，充满了生机与活力。每一种物品都有其独特的用途和特点：\n\n1. **钥匙**：作为开锁工具，钥匙是解决问题的关键，常常用来开启家门、车门或任何需要打开的物体。\n\n2. **杯子**：杯具在日常生活中无处不在，常见于水杯、饭盒等。它们不仅用于盛水或食物，还被用于装饰、摆设或作为文具使用。\n\n3. **书包**：书包是重要的学习用品和日常生活工具之一，常用于装书、携带书籍或随身携带的物品。\n\n4. **挂毯**：这是家中常见的装饰品，通常被用来点缀墙壁，增添室内的温馨氛围。它可以作为睡衣，覆盖在地板上，营造出舒适的环境。\n\n5. **蜡烛**：蜡烛是家庭中常用的物品之一，尤其适用于节日或紧急情况下使用，可以增加室内气氛和安全感。\n\n6. **手机壳**：这通常是手机外壳的一部分，通常由塑料制成，并带有防潮保护功能。它帮助手机更好地包裹内部设备。\n\n7. **围巾**：这是家里的重要衣物之一，常用于保暖、装饰以及作为日常物品的配饰使用。\n\n这张图片展示了这些物品的不同用途和搭配，它们共同构成了一个和谐而美丽的生活场景。每一种物品都有其独特的美，同时也服务于不同的生活需求，构成了一幅温馨的家庭画面。"{"$ref":"$.metadata.rateLimit.requestsReset.usage.result.metadata.contentFilters.output.media"}}},"results":[{"$ref":"$.metadata.rateLimit.requestsReset.usage.result"}]}
25-06-15.10:44:07.600 [ForkJoinPool.commonPool-worker-1] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"<think>"{"$ref":"$.media"}}
25-06-15.10:44:07.601 [ForkJoinPool.commonPool-worker-1] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"\n\n"{"$ref":"$.media"}}
25-06-15.10:44:07.602 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"</think>"{"$ref":"$.media"}}
25-06-15.10:44:07.603 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"\n\n"{"$ref":"$.media"}}
25-06-15.10:44:07.603 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"1"{"$ref":"$.media"}}
25-06-15.10:44:07.604 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":" +"{"$ref":"$.media"}}
25-06-15.10:44:07.605 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":" "{"$ref":"$.media"}}
25-06-15.10:44:07.605 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"1"{"$ref":"$.media"}}
25-06-15.10:44:07.606 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":" 等"{"$ref":"$.media"}}
25-06-15.10:44:07.607 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"于"{"$ref":"$.media"}}
25-06-15.10:44:07.608 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":" **"{"$ref":"$.media"}}
25-06-15.10:44:07.609 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"2"{"$ref":"$.media"}}
25-06-15.10:44:07.609 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"**"{"$ref":"$.media"}}
25-06-15.10:44:07.611 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"。"{"$ref":"$.media"}}
25-06-15.10:44:07.612 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): {"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":""{"$ref":"$.media"}}
25-06-15.10:44:07.614 [HttpClient-2-Worker-2] INFO  OllamaTest             - 测试结果(stream): done!
25-06-15.10:44:09.205 [main            ] INFO  OllamaTest             - 测试结果:{"metadata":{"empty":false,"id":"","model":"deepseek-r1:1.5b","rateLimit":{"requestsLimit":0,"requestsRemaining":0,"requestsReset":{"nano":0,"negative":false,"seconds":0,"units":["SECONDS","NANOS"],"zero":true},"tokensLimit":0,"tokensRemaining":0,"tokensReset":{"$ref":"$.metadata.rateLimit.requestsReset"}},"usage":{"promptTokens":1184,"completionTokens":209,"totalTokens":1393,"generationTokens":209}},"result":{"metadata":{"contentFilters":[],"empty":true,"finishReason":"stop"},"output":{"media":[],"messageType":"ASSISTANT","metadata":{"messageType":"ASSISTANT"},"text":"<think>\n嗯，用户问的是“人工智能学科始于哪一年”，我得仔细回想一下相关的信息。首先，我记得在提供的文档中，提到了人工智能AI的起源。\n\n文档里详细描述了20世纪50年代开始，特别是1956年。当时，约翰·麦卡锡、马文·摩金斯基和克劳德·香农发表过观点，认为机器能够模拟人类的各种方面，从而成为人工智能。这个时期被称为第一次发展的阶段，因为AI进入了一次快速发展的时代，并被大众所认识。\n\n所以，根据这些信息，人工智能学科的起源应该是1956年。\n</think>\n\n人工智能学科始于20世纪50年代。具体来说，这一领域在1956年正式开始发展。当时，约翰·麦卡锡、马文·摩金斯基和克劳德·香农提出了人工智能的概念，并认为机器可以模拟人类的各种方面以实现智能。\n\n所以，人工智能学科的起源是在1956年。"{"$ref":"$.metadata.rateLimit.requestsReset.usage.result.metadata.contentFilters.output.media"}}},"results":[{"$ref":"$.metadata.rateLimit.requestsReset.usage.result"}]}
25-06-15.10:44:09.212 [main            ] INFO  OllamaTest             - 默认模型: mistral
25-06-15.10:44:09.234 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-06-15.10:44:09.239 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-06-15.10:44:46.552 [main            ] INFO  OpenAiTest             - Starting OpenAiTest using Java 17.0.15 with PID 49112 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:44:46.555 [main            ] INFO  OpenAiTest             - The following 1 profile is active: "dev"
25-06-15.10:44:48.796 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:44:48.799 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:44:48.799 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:44:49.201 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:44:49.202 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:44:49.202 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:44:49.789 [main            ] INFO  OpenAiTest             - Started OpenAiTest in 3.834 seconds (process running for 5.002)
25-06-15.10:44:51.991 [main            ] WARN  SpringAiRetryAutoConfiguration - Retry error. Retry count:1
org.springframework.ai.retry.NonTransientAiException: 401 - {"error":{"message":"无效的令牌 (request id: 2025061510445189498794467357286)","type":"one_api_error"}}
	at org.springframework.ai.autoconfigure.retry.SpringAiRetryAutoConfiguration$2.handleError(SpringAiRetryAutoConfiguration.java:100)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toEntityInternal$2(DefaultRestClient.java:770)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntityInternal(DefaultRestClient.java:769)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntity(DefaultRestClient.java:758)
	at org.springframework.ai.openai.api.OpenAiApi.chatCompletionEntity(OpenAiApi.java:257)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$1(OpenAiChatModel.java:274)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:230)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$3(OpenAiChatModel.java:274)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:271)
	at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:255)
	at com.study.tony.ai.knowledge.test.OpenAiTest.test_call(OpenAiTest.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:76)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-06-15.10:54:26.089 [main            ] INFO  OpenAiTest             - Starting OpenAiTest using Java 17.0.15 with PID 91379 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.10:54:26.091 [main            ] INFO  OpenAiTest             - The following 1 profile is active: "dev"
25-06-15.10:54:28.631 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.10:54:28.635 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.10:54:28.635 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:54:29.093 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.10:54:29.093 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.10:54:29.093 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.10:54:29.655 [main            ] INFO  OpenAiTest             - Started OpenAiTest in 4.123 seconds (process running for 5.382)
25-06-15.10:54:31.134 [main            ] WARN  SpringAiRetryAutoConfiguration - Retry error. Retry count:1
org.springframework.ai.retry.NonTransientAiException: 401 - {"error":{"message":"无效的令牌 (request id: 2025061510543120343847813649288)","type":"one_api_error"}}
	at org.springframework.ai.autoconfigure.retry.SpringAiRetryAutoConfiguration$2.handleError(SpringAiRetryAutoConfiguration.java:100)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toEntityInternal$2(DefaultRestClient.java:770)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntityInternal(DefaultRestClient.java:769)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntity(DefaultRestClient.java:758)
	at org.springframework.ai.openai.api.OpenAiApi.chatCompletionEntity(OpenAiApi.java:257)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$1(OpenAiChatModel.java:274)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:230)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$3(OpenAiChatModel.java:274)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:271)
	at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:255)
	at com.study.tony.ai.knowledge.test.OpenAiTest.test_call(OpenAiTest.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:76)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-06-15.11:10:09.641 [main            ] INFO  OpenAiTest             - Starting OpenAiTest using Java 17.0.15 with PID 58003 (started by macbookair in /Users/macbookair/IdeaProjects/tony-ai-mcp-knowledge/tony-ai-mcp-knowledge-app)
25-06-15.11:10:09.642 [main            ] INFO  OpenAiTest             - The following 1 profile is active: "dev"
25-06-15.11:10:11.771 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama_deepseek. Is empty: false
25-06-15.11:10:11.775 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama_deepseek in schema: public
25-06-15.11:10:11.775 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.11:10:12.190 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-06-15.11:10:12.190 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-06-15.11:10:12.190 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-06-15.11:10:12.659 [main            ] INFO  OpenAiTest             - Started OpenAiTest in 3.578 seconds (process running for 4.623)
